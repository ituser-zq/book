/*
Navicat MySQL Data Transfer

Source Server         : root
Source Server Version : 50717
Source Host           : localhost:3306
Source Database       : bookstore

Target Server Type    : MYSQL
Target Server Version : 50717
File Encoding         : 65001

Date: 2019-03-21 18:11:20
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for `book`
-- ----------------------------
DROP TABLE IF EXISTS `book`;
CREATE TABLE `book` (
  `bid` char(32) NOT NULL,
  `bname` varchar(100) DEFAULT NULL,
  `price` decimal(5,1) DEFAULT NULL,
  `author` varchar(20) DEFAULT NULL,
  `image` varchar(200) DEFAULT NULL,
  `cid` char(32) DEFAULT NULL,
  PRIMARY KEY (`bid`),
  KEY `cid` (`cid`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`cid`) REFERENCES `category` (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of book
-- ----------------------------
INSERT INTO `book` VALUES ('1', 'Java编程思想（第4版）', '75.6', 'qdmmy6', 'book_img/9317290-1_l.jpg', '1');
INSERT INTO `book` VALUES ('2', 'Java核心技术卷1', '68.5', 'qdmmy6', 'book_img/20285763-1_l.jpg', '1');
INSERT INTO `book` VALUES ('3', 'Java就业培训教程', '39.9', '张孝祥', 'book_img/8758723-1_l.jpg', '1');
INSERT INTO `book` VALUES ('4', 'Head First java', '47.5', '（美）塞若', 'book_img/9265169-1_l.jpg', '1');
INSERT INTO `book` VALUES ('5', 'JavaWeb开发详解', '83.3', '孙鑫', 'book_img/22788412-1_l.jpg', '2');
INSERT INTO `book` VALUES ('6', 'Struts2深入详解', '63.2', '孙鑫', 'book_img/20385925-1_l.jpg', '2');
INSERT INTO `book` VALUES ('7', '精通Hibernate', '30.0', '孙卫琴', 'book_img/8991366-1_l.jpg', '2');
INSERT INTO `book` VALUES ('8', '精通Spring2.x', '63.2', '陈华雄', 'book_img/20029394-1_l.jpg', '2');
INSERT INTO `book` VALUES ('9', 'Javascript权威指南', '93.6', '（美）弗兰纳根', 'book_img/22722790-1_l.jpg', '3');

-- ----------------------------
-- Table structure for `category`
-- ----------------------------
DROP TABLE IF EXISTS `category`;
CREATE TABLE `category` (
  `cid` char(32) NOT NULL,
  `cname` varchar(100) NOT NULL,
  PRIMARY KEY (`cid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of category
-- ----------------------------
INSERT INTO `category` VALUES ('1', 'JavaSE');
INSERT INTO `category` VALUES ('2', 'JavaEE');
INSERT INTO `category` VALUES ('3', 'Javascript');

-- ----------------------------
-- Table structure for `orderitem`
-- ----------------------------
DROP TABLE IF EXISTS `orderitem`;
CREATE TABLE `orderitem` (
  `iid` char(32) NOT NULL,
  `count` int(11) DEFAULT NULL,
  `subtotal` decimal(10,2) DEFAULT NULL,
  `oid` char(32) DEFAULT NULL,
  `bid` char(32) DEFAULT NULL,
  PRIMARY KEY (`iid`),
  KEY `oid` (`oid`),
  KEY `bid` (`bid`),
  CONSTRAINT `orderitem_ibfk_1` FOREIGN KEY (`oid`) REFERENCES `orders` (`oid`),
  CONSTRAINT `orderitem_ibfk_2` FOREIGN KEY (`bid`) REFERENCES `book` (`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of orderitem
-- ----------------------------
INSERT INTO `orderitem` VALUES ('19A7B8E8D1834E79A9547A0E6F9DDF94', '1', '75.60', '339380003FB14ECD890C2D4764BFD597', '1');
INSERT INTO `orderitem` VALUES ('1DBD38D0015245A686391638642C102A', '2', '151.20', '7A313EA599D44565A54E7D1E3AF7B07C', '1');
INSERT INTO `orderitem` VALUES ('218E50B004EE4C7481BF72B080F89C1F', '5', '468.00', '32D64A4150744CE68830CAFFCCB771D4', '9');
INSERT INTO `orderitem` VALUES ('24B2760358C34EC89A5E4397C08D3B54', '1', '63.20', '43A4682A2B0C47BDA36F0ABFFF1FCB21', '6');
INSERT INTO `orderitem` VALUES ('276275580BFA41D7A9026DC855F7F207', '1', '30.00', '3A947036397A4C74A9B845299787E5AD', '7');
INSERT INTO `orderitem` VALUES ('296A222F7B4B4A929B4CB08AAF85A744', '1', '75.60', 'D1FA0D28DBDD4B0F88A9D461D4BCBECA', '1');
INSERT INTO `orderitem` VALUES ('2A3EAD18928E4D668F9399D729F9EFE0', '5', '342.50', '32D64A4150744CE68830CAFFCCB771D4', '2');
INSERT INTO `orderitem` VALUES ('2D25C85B537D435CAB7CC5744F6872B9', '1', '75.60', '64594BA3CC54415D9315F73012D31DA5', '1');
INSERT INTO `orderitem` VALUES ('2FD88CD980154197AE7EC13C9E711B2F', '1', '75.60', 'E0A91F0B73F5495CA1A220CB17759C86', '1');
INSERT INTO `orderitem` VALUES ('3CC5DC08AF9B498E9977AA5BA0893810', '1', '75.60', 'D83BA88DA40A4465B26A85D4ED95F867', '1');
INSERT INTO `orderitem` VALUES ('420FED4B6926472ABDC214233DF96D21', '1', '63.20', '831CA94BD486471E92DAE32869C6AD6E', '6');
INSERT INTO `orderitem` VALUES ('4827E5CDE6CA41909E4D80B45FF133B6', '1', '75.60', 'AB51207461894BFCA94533EB75663351', '1');
INSERT INTO `orderitem` VALUES ('501FAA4C11B14AE6AD2C20B71E213E92', '1', '93.60', '42AA8080CA9A491496ED62AAE51A405E', '9');
INSERT INTO `orderitem` VALUES ('60BA521E4AD94BA2A55BF17ECF76657C', '1', '75.60', 'E0B9B9158B49494084BE0B76C7DCC5E2', '1');
INSERT INTO `orderitem` VALUES ('6497F45D52C6437BB052F6C257B30597', '5', '378.00', '32D64A4150744CE68830CAFFCCB771D4', '1');
INSERT INTO `orderitem` VALUES ('6B7E1C823ECB4532B9C6F66FA70DEE8E', '1', '75.60', '57FF963381904859B1FFD7777C94E567', '1');
INSERT INTO `orderitem` VALUES ('756A5D5BF10D4F7096B9CC7333DF0E81', '1', '63.20', '2CFA5E7399D3484EBCD172728397E60B', '6');
INSERT INTO `orderitem` VALUES ('7F3AECC5E6D64B22975385407213830F', '1', '75.60', '0166FCFD0D384AF39CCF500825B846A3', '1');
INSERT INTO `orderitem` VALUES ('927A69FE50694768BCDC904BB6A06C6E', '1', '75.60', '3A947036397A4C74A9B845299787E5AD', '1');
INSERT INTO `orderitem` VALUES ('935ABC3DFBDA47E2A9769C3010F0EF40', '1', '93.60', '2CFA5E7399D3484EBCD172728397E60B', '9');
INSERT INTO `orderitem` VALUES ('9D5E536F2D6B42D094DC3EFF3D7EE9B0', '1', '75.60', 'E7E2309C158A46AD925C2BA9BB9A4047', '1');
INSERT INTO `orderitem` VALUES ('A0CE19A0F43A4E81BF83AE742DA4FC3F', '1', '75.60', 'D162D92E8F194C4BB9BB5527C023CD36', '1');
INSERT INTO `orderitem` VALUES ('B4C74ECA4EEC4EE3A97FC77C88E45114', '1', '68.50', '3A947036397A4C74A9B845299787E5AD', '2');
INSERT INTO `orderitem` VALUES ('BB4E6E381D7B459599DB5D4E5B2BBCC3', '1', '68.50', '339380003FB14ECD890C2D4764BFD597', '2');
INSERT INTO `orderitem` VALUES ('C51F9F009D6C4F63B1D20B3D4B095A12', '1', '75.60', '831CA94BD486471E92DAE32869C6AD6E', '1');
INSERT INTO `orderitem` VALUES ('C60C75983EFC4B16AA5A99CA7986281F', '1', '75.60', 'EBF38ECD3C484812A81F11E4489A5589', '1');
INSERT INTO `orderitem` VALUES ('CFE39E02CEF6490F90E013AEC70973AB', '1', '63.20', '32D64A4150744CE68830CAFFCCB771D4', '8');
INSERT INTO `orderitem` VALUES ('D2BA9899BF9D4E74AB4C7E1D0FCF7A7C', '1', '83.30', '990DE30B31844483895CA52CD338BC29', '5');
INSERT INTO `orderitem` VALUES ('D52DAD1586F942289BDB07D01F604C06', '1', '75.60', 'EABB01061C204FEFAC0B7FCB59BA3DA9', '1');
INSERT INTO `orderitem` VALUES ('D85F55F1D2784B83A911EF950987BB31', '1', '39.90', 'E0B9B9158B49494084BE0B76C7DCC5E2', '3');
INSERT INTO `orderitem` VALUES ('DE84758AAA474890BD59358AAD977EA8', '4', '302.40', '990DE30B31844483895CA52CD338BC29', '1');
INSERT INTO `orderitem` VALUES ('FCB6E67F52B24113B6B9E87C3D5DF7F2', '2', '151.20', '2CFA5E7399D3484EBCD172728397E60B', '1');

-- ----------------------------
-- Table structure for `orders`
-- ----------------------------
DROP TABLE IF EXISTS `orders`;
CREATE TABLE `orders` (
  `oid` char(32) NOT NULL,
  `ordertime` datetime DEFAULT NULL,
  `total` decimal(10,2) DEFAULT NULL,
  `state` smallint(1) DEFAULT NULL,
  `uid` char(32) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`oid`),
  KEY `uid` (`uid`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`uid`) REFERENCES `tb_user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of orders
-- ----------------------------
INSERT INTO `orders` VALUES ('0166FCFD0D384AF39CCF500825B846A3', '2018-08-07 23:19:26', '75.60', '0', '475E6BAF04F44314A7E5FBFA936B55F3', null);
INSERT INTO `orders` VALUES ('2CFA5E7399D3484EBCD172728397E60B', '2018-05-24 19:53:25', '308.00', '3', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('32D64A4150744CE68830CAFFCCB771D4', '2018-05-24 19:43:46', '1251.70', '3', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('339380003FB14ECD890C2D4764BFD597', '2018-05-24 19:40:56', '144.10', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('3A947036397A4C74A9B845299787E5AD', '2018-05-24 22:02:17', '174.10', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('42AA8080CA9A491496ED62AAE51A405E', '2018-09-27 19:10:28', '93.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('43A4682A2B0C47BDA36F0ABFFF1FCB21', '2018-05-24 19:43:30', '63.20', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('57FF963381904859B1FFD7777C94E567', '2018-05-24 19:43:24', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('64594BA3CC54415D9315F73012D31DA5', '2018-05-24 21:17:03', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('7A313EA599D44565A54E7D1E3AF7B07C', '2018-05-24 19:36:53', '151.20', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('831CA94BD486471E92DAE32869C6AD6E', '2018-05-24 22:15:48', '138.80', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('990DE30B31844483895CA52CD338BC29', '2018-05-24 19:38:39', '385.70', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('AB51207461894BFCA94533EB75663351', '2018-08-05 21:39:04', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('D162D92E8F194C4BB9BB5527C023CD36', '2018-05-24 19:35:03', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('D1FA0D28DBDD4B0F88A9D461D4BCBECA', '2018-05-24 19:32:29', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('D83BA88DA40A4465B26A85D4ED95F867', '2018-05-24 22:09:46', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('E0A91F0B73F5495CA1A220CB17759C86', '2018-07-17 20:28:50', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('E0B9B9158B49494084BE0B76C7DCC5E2', '2018-11-29 23:14:41', '115.50', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('E7E2309C158A46AD925C2BA9BB9A4047', '2018-08-05 21:36:09', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('EABB01061C204FEFAC0B7FCB59BA3DA9', '2018-05-24 19:30:51', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);
INSERT INTO `orders` VALUES ('EBF38ECD3C484812A81F11E4489A5589', '2018-08-05 21:41:48', '75.60', '0', '8CADF5368CD2400FBF7CBF74BAF43A39', null);

-- ----------------------------
-- Table structure for `tb_user`
-- ----------------------------
DROP TABLE IF EXISTS `tb_user`;
CREATE TABLE `tb_user` (
  `uid` char(32) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `code` char(64) NOT NULL,
  `state` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of tb_user
-- ----------------------------
INSERT INTO `tb_user` VALUES ('475E6BAF04F44314A7E5FBFA936B55F3', 'itcast_zq', '970420', 'ituser_zq@163.com', '0BED5239383040AE96095F63E41F76597B763D718F84420EB213E7D0F2C6B249', '1');
INSERT INTO `tb_user` VALUES ('8CADF5368CD2400FBF7CBF74BAF43A39', 'ituser_zq', '970420', 'ituser_zq@126.com', '4A99C05618FC4906BCF484381AD581A5EE28162ADFC54001B4FD73E5DD8113AC', '1');
